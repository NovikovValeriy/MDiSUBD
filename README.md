# Новиков Валерий Андреевич гр. 253504
# Онлайн-аукцион
# 1. Определение темы проекта
Тема проекта: Система управления сайтом онлайн-аукциона. Сервис предоставляет просматривать и принимать участие в аукционах по продаже лотов различных категорий. Пользователи могут делать ставки в то время, пока аукцион активен. Пользователям дается информация о самом лоте, о статусе аукциона, о дате и времени начала и завершения аукциона, о начальной ставке. Во время аукциона пользователи видят текущую ставку и могут совершать свои, если они больше текущей. После завершения аукциона пользователи видят победителя. У лота помимо его имени и описания имеется список предметов, относящихся к нему, продавец, а также может быть оценщик, подтверждающий подлинность лота. У оценщика может быть указана специализация. Предмет лота содержит имя, описание, изображение и категорию лота. 
# 2. Определение функциональных требований
## 2.1. Система ролей.
Система подразумевает 4 роли: неавторизованный пользователь, авторизованный пользователь, модерация и администрация.
## 2.2. Система авторизации
Пользователи, модерация и администрация должны иметь возможность авторизации. Также пользователи должны иметь возможность регистрации.
## 2.3. Возможности каждой из ролей
### Неавторизованный пользователь
1. Просмотр списка аукционов.
2. Просмотр информации об аукционе, о его лоте и информации о нем, продавце и оценщике лота.
3. Просмотр продавцов, отзывов на них, а также ауцкионов, в которых они принимали участие.
4. Просмотр оценщиков и отзывов на них, а также ауцкионов, в которых они принимали участие.
### Авторизованный пользователь
Те же возможности, что и у неавторизованного пользователя и дополнительно:
1. Возможность совершения ставки в активном аукционе.
2. Просмотр статистики пользователя: список аукционов, в которых пользователь принял участие; список аукционов, в которых пользователь победил и т.д.
3. Возможность написания отзыва на продавцов и оценщиков.
4. Редактирование личной информации в профиле пользователя
### Модерация
1. Создание, редактирование и удаление аукционов и информации о них.
2. Создание, редактирование и удаление лотов и информации о них.
### Администрация
Те же возможности, что и у модерации и дополнительно:
1. Создание, редактирование и удаление продавцов, оценщиков и информации о них.
2. Редактирование и удаление ставок, сделанных пользователями.
3. Удаление аккаунтов пользователей
4. Создание аккаунтов модерации
5. Создание, редактирование и удаление категорий лотов, стран(информация в профиле пользователей), отзывов пользователей на продавцов и оценщиков. 
# 3. Определение сущностей базы данных
### User(Пользователь)
1. id(INT PRIMARY KEY): Уникальный идентификатор
2. username(VARCHAR(30) NOT NULL UNIQUE): Логин пользователя
3. password(VARCHAR(128) NOT NULL): Пароль пользователя
4. email(VARCHAR(50) UNIQUE): Электронная почта пользователя
5. is_superuser(BIT NOT NULL): Является ли пользователь администрацией
6. is_staff(BIT NOT NULL): Является ли пользователь модерацией
### Profile(Профиль)
1. id(INT PRIMARY KEY): Уникальный идентификатор
2. user_id(FOREIGN KEY User(id) UNIQUE): Идентификатор пользователя
3. first_name(VARCHAR(50)): Имя пользователя
4. last_name(VARCHAR(50)): Фамилия пользователя
5. phone_number(VARCHAR(13)): Мобильный телефон пользователя
6. age(TINYINT): Возраст пользователя
7. country_id(FOREIGN KEY Country(id)): Страна пользователя
### Country(Страна)
1. id(INT PRIMARY KEY): Уникальный идентификатор
2. name(VARCHAR(50)): Название страны
### Bid(Ставка)
1. id(INT PRIMARY KEY): Уникальный идентификатор
2. user_id(FOREIGN KEY User(id) NOT NULL): Идентификатор пользователя
3. auction_id(FOREIGN KEY Auction(id) NOT NULL): Идентификатор аукциона
4. bid_amount(DECIMAL(17,2) NOT NULL): Значение ставки
5. timestamp(DATETIME NOT NULL): Дата и время совершения ставки
### Auction(Аукцион)
1. id(INT PRIMARY KEY): Уникальный идентификатор
2. winner_id(FOREIGN KEY User(id)): Идентификатор победителя аукциона
3. current_bid_id(FOREIGN KEY Bid(id)): Идентификатор текущей ставки
4. status_id(FOREIGN KEY AuctionStatus(id) NOT NULL): Идентификатор статуса аукциона
5. lot_id(FOREIGN KEY Lot(id) NOT NULL): Идентификатор лота
6. start_bid(DECIMAL(17,2)): Начальная ставка
7. start_time(DATETIME NOT NULL): Дата и время начала аукциона
8. end_time(DATETIME NOT NULL): Дата и время конца аукциона
### AuctionStatus(Статус аукциона)
1. id(INT PRIMARY KEY): Уникальный идентификатор
2. status(VARCHAR(50)): Статус аукциона
### Lot(Лот)
1. id(INT PRIMARY KEY): Уникальный идентификатор
2. name(VARCHAR(255)): Название лота
3. description(VARCHAR(MAX)): Описание лота
4. seller_id(FOREIGN KEY Seller(id) NOT NULL): Идентификатор продавца
5. appraiser_id(FOREIGN KEY Appraiser(id)): Идентификатор оценщика
### LotItem(Предмет лота)
1. id(INT PRIMARY KEY): Уникальный идентификатор
2. lot_id( FOREIGN KEY Lot(id)): Идентификатор лота
3. category_id(FOREIGN KEY ItemCategory(id)): Идентификатор категории лота
4. name(VARCHAR(255)): Название предмета
5. description(VARCHAR(MAX)): Описание предмета
6. image(VARCHAR(100)): Изображение предмета
### ItemCategory(Категория предмета)
1. id(INT PRIMARY KEY): Уникальный идентификатор
2. name(VARCHAR(50)): Название категории
### Seller(Продавец)
1. id(INT PRIMARY KEY): Уникальный идентификатор
2. name(VARCHAR(50)): Имя продавца
3. address(VARCHAR(100)): Адрес продавца
### SellerReview(Отзыв на продавца)
1. id(INT PRIMARY KEY): Уникальный идентификатор
2. user_id(FOREIGN KEY User(id) NOT NULL UNIQUE): Идентификатор пользователя
3. seller_id(FOREIGN KEY Seller(id) NOT NULL): Идентификатор продавца
4. rating(BIT NOT NULL): Оценка
5. review_text(VARCHAR(MAX)): Текст отзыва
### Appraiser(Оценщик)
1. id(INT PRIMARY KEY): Уникальный идентификатор
2. name(VARCHAR(50)): Имя оценщика
3. specialization_id(FOREIGN KEY Specialization(id)): Идентификатор специализации оценщика
### Specialization(Специализация оценщика)
1. id(INT PRIMARY KEY): Уникальный идентификатор
2. description(VARCHAR(MAX)): Название специализации
### AppraiserReview(Отзыв на оценщика)
1. id(INT PRIMARY KEY): Уникальный идентификатор
2. user_id(FOREIGN KEY User(id) NOT NULL UNIQUE): Идентификатор пользователя
3. appraiser_id(FOREIGN KEY Appraiser(id) NOT NULL): Идентификатор оценщика
4. rating(BIT NOT NULL): Оценка
5. review_text(VARCHAR(MAX)): Текст отзыва
# 4. Графическая схема
![бд_схема](https://github.com/user-attachments/assets/43f3f2c1-52ba-40c2-a876-3d7d77234430)
